'''Converts normal English into a secret code. It can also convert secret codes back into regular English. 
   Only someone that knows the key to the secret codes will be able to understand the messages.
   
   The Caeser Ciper works by replacing each letter in it with a SHIFTED letter. E.g. if you shift A by 1, you get B, if you shift
   B by 3, you get E, and so forth. 
   
   So if we set the key = 3, then each letter will be shifted by 3. 
'''
#explain each step in more detail
#(1) Setting the maximum key length
#the key used in the cipher should be between 1-52; MAX_KEY_SIZE() stores the size key
SYMBOLS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'
MAX_KEY_SIZE = len(SYMBOLS)

#(2) Deciding to Encrypt or Decrypt:
#
def getMode():
  while True:
    print('Do you wish to encrypt or decrypt a message?')
    mode = input().lower()
    if mode in ['encrypt', 'e', 'decrypt', 'd']:
      return mode
    else:
      print('Enter either "encrypt" or "e" or "decrypt" or "d".')
      
def getMessage():
   print('Enter your message:')
   key = int(input())
   if (key >= 1 and key <= MAX_KEY_SIZE):
      return key

def getTranslatedMessage(mode, message, key):
   if mode[0] == 'd':
      key = -key
   translated = ''
   
   for symbol in message:
      symbolIndex = SYMBOLS.find(symbol)
      if symbolIndex == -1: #Symbol not found in SYMBOLS
         #Just add this symbol without any change
         translated += symbol
      else:
         #encrypt or decrypt
         symbolIndex += key
         
      if symbolIndex >= len(SYMBOLS):
         symbolIndex -= len(SYMBOLS)
      elif symbolIndex < 0:
         symbolIndex += len(SYMBOLS)
         
      translated += SYMBOLS[symbolIndex]
   return translated
   
mode = getMode()
message = getMessage()
key = getKey()
print('Your translated text is:')
print(getTranslatedMessage(mode, message, key))
